<!-- <div class="container mt-4">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-warning text-dark text-center py-3 rounded-top">
      <h3 class="fw-bold">ğŸ’³ Add Payment</h3>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" #paymentForm="ngForm" class="p-3">

        <div class="mb-3">
          <label class="form-label">Appointment ID</label>
          <input type="number" class="form-control" name="appointmentID" [(ngModel)]="payment.appointmentID" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Amount</label>
          <input type="number" class="form-control" name="amount" [(ngModel)]="payment.amount" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Payment Method</label>
          <select class="form-select" name="paymentMethod" [(ngModel)]="payment.paymentMethod" required>
            <option value="" disabled selected>-- Select Method --</option>
            <option *ngFor="let method of paymentMethods" [value]="method">{{ method }}</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Status</label>
          <select class="form-select" name="status" [(ngModel)]="payment.status" required>
            <option value="" disabled selected>-- Select Status --</option>
            <option *ngFor="let status of paymentStatuses" [value]="status">{{ status }}</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Paid At</label>
          <input type="datetime-local" class="form-control" name="paidAt" [(ngModel)]="payment.paidAt" required />
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-success w-50 shadow rounded-pill" [disabled]="paymentForm.invalid">
            â• Submit Payment
          </button>
        </div>

      </form>
    </div>
  </div>
</div> -->


<!-- src/app/payment/payment.component.html -->
<!-- <div class="container mt-4">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-primary text-white text-center py-3 rounded-top">
      <h3 class="fw-bold">ğŸ©º Payment System</h3>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" class="p-3" #paymentForm="ngForm">

        <div class="mb-3">
          <label class="form-label">Appointment ID</label>
          <input class="form-control" type="number" [(ngModel)]="payment.appointmentID" name="appointmentID" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Amount</label>
          <input class="form-control" type="number" [(ngModel)]="payment.amount" name="amount" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Payment Method</label>
          <select class="form-select" [(ngModel)]="payment.paymentMethod" name="paymentMethod" required>
            <option *ngFor="let method of paymentMethods" [value]="method">{{ method }}</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Payment Status</label>
          <select class="form-select" [(ngModel)]="payment.status" name="status" required>
            <option *ngFor="let status of paymentStatuses" [value]="status">{{ status }}</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Paid At</label>
          <input class="form-control" type="datetime-local" [(ngModel)]="payment.paidAt" name="paidAt" required />
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-success w-50 shadow rounded-pill">
            â• Submit Payment
          </button>
        </div>
      </form>
    </div>
  </div>


  <div class="mt-5">
    <h4 class="text-center">Payments List</h4>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Appointment ID</th>
          <th>Amount</th>
          <th>Payment Method</th>
          <th>Status</th>
          <th>Paid At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let payment of payments">
          <td>{{ payment.appointmentID }}</td>
          <td>{{ payment.amount }}</td>
          <td>{{ payment.paymentMethod }}</td>
          <td>{{ payment.status }}</td>
          <td>{{ payment.paidAt | date: 'short' }}</td>
          <td>
            <button class="btn btn-danger" (click)="deletePayment(payment.appointmentID)">
              ğŸ—‘ï¸ Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->

<div class="container mt-4">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-primary text-white text-center py-3 rounded-top">
      <h3 class="fw-bold">ğŸ©º Payment System</h3>
    </div>

    <div class="card-body">
      <form (ngSubmit)="onSubmit()" class="p-3" #paymentForm="ngForm">

        <!-- Select Appointment ID -->
        <div class="mb-3">
          <label class="form-label">Appointment</label>
          <select class="form-select" [(ngModel)]="payment.appointmentID" name="appointmentID" required>
            <option value="" disabled selected>Select Appointment</option>
            <option *ngFor="let appt of appointments" [value]="appt.id">
              ID: {{ appt.id }} - Patient: {{ appt.patientId }} - Doctor: {{ appt.doctorId }}
            </option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Amount</label>
          <select class="form-select" [(ngModel)]="payment.amount" name="amount" required>
            <option value="" disabled selected>Select Amount</option>
            <option *ngFor="let amt of paymentAmounts" [value]="amt">
              â‚¹ {{ amt }}
            </option>
          </select>
        </div>

        <!-- Payment Method -->
        <div class="mb-3">
          <label class="form-label">Payment Method</label>
          <select class="form-select" [(ngModel)]="payment.paymentMethod" name="paymentMethod" required>
            <option value="" disabled selected>Select Method</option>
            <option *ngFor="let method of paymentMethods" [value]="method">{{ method }}</option>
          </select>
        </div>

        <!-- Payment Status -->
        <div class="mb-3">
          <label class="form-label">Payment Status</label>
          <select class="form-select" [(ngModel)]="payment.status" name="status" required>
            <option value="" disabled selected>Select Status</option>
            <option *ngFor="let status of paymentStatuses" [value]="status">{{ status }}</option>
          </select>
        </div>

        <!-- Paid At -->
        <div class="mb-3">
          <label class="form-label">Paid At</label>
          <input class="form-control" type="datetime-local" [(ngModel)]="payment.paidAt" name="paidAt" required />
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button type="submit" class="btn btn-success w-50 shadow rounded-pill">
            â• Submit Payment
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Payments List Table -->
  <div class="mt-5">
    <h4 class="text-center">Payments List</h4>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Appointment ID</th>
          <th>Amount</th>
          <th>Payment Method</th>
          <th>Status</th>
          <th>Paid At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let payment of payments">
          <td>{{ payment.appointmentID }}</td>
          <td>{{ payment.amount }}</td>
          <td>{{ payment.paymentMethod }}</td>
          <td>{{ payment.status }}</td>
          <td>{{ payment.paidAt | date: 'short' }}</td>
          <td>
            <button class="btn btn-danger" (click)="deletePayment(payment.appointmentID)">
              ğŸ—‘ï¸ Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
